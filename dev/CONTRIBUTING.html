<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Contributing • altair</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="Contributing"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">altair</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">4.2.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/altair.html">Getting Started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/installation.html">Installation</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Introduction</li>
    <li>
      <a href="articles/tooltips.html">Tooltips</a>
    </li>
    <li>
      <a href="articles/vega-datasets.html">Vega Datasets</a>
    </li>
    <li>
      <a href="articles/view-composition.html">View Composition</a>
    </li>
    <li>
      <a href="articles/interactive.html">Interactive Charts</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Field Guides</li>
    <li>
      <a href="articles/field-guide-python.html">Python Issues</a>
    </li>
    <li>
      <a href="articles/field-guide-rendering.html">Rendering Charts</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Gallery
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/example-gallery-01-simple.html">Simple Charts</a>
    </li>
    <li>
      <a href="articles/example-gallery-02-bar-charts.html">Bar Charts</a>
    </li>
    <li>
      <a href="articles/example-gallery-03-line-charts.html">Line Charts</a>
    </li>
    <li>
      <a href="articles/example-gallery-04-area-charts.html">Area Charts</a>
    </li>
    <li>
      <a href="articles/example-gallery-05-scatter-plots.html">Scatterplots</a>
    </li>
    <li>
      <a href="articles/example-gallery-06-histograms.html">Histograms</a>
    </li>
    <li>
      <a href="articles/example-gallery-07-maps.html">Maps</a>
    </li>
    <li>
      <a href="articles/example-gallery-08-interactive-charts.html">Interactive Charts</a>
    </li>
    <li>
      <a href="articles/example-gallery-09-case-studies.html">Case Studies</a>
    </li>
    <li>
      <a href="articles/example-gallery-10-other-charts.html">Other Charts</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/vegawidget/altair" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributing</h1>
    </div>

<div id="contributing" class="section level1">

<div class="section level2">
<h2 id="package-scope">Package scope<a class="anchor" aria-label="anchor" href="#package-scope"></a></h2>
<p>The purpose of this package is to provide you the means:</p>
<ul><li>to install the <strong>Altair</strong> Python package.</li>
<li>to build Vega-Lite chart-specifications using Altair.</li>
<li>to render chart-specifications into HTML.</li>
<li>to communicate your charts.</li>
</ul><p>There are a lot of “moving parts” in keeping current with a Python package and a set of JavaScript libraries (Vega-Lite, vega-embed, …). Accordingly, this package aspires to keep its scope as focused as possible.</p>
</div>
<div class="section level2">
<h2 id="style">Style<a class="anchor" aria-label="anchor" href="#style"></a></h2>
<p>Looking at the present state of this package repository, you may think that this style guide is more aspirational than operational. You would not be incorrect in this assessment.</p>
<p>This package aspires to use the <a href="http://style.tidyverse.org" class="external-link">Tidyverse Style Guide</a>, with some minor modifications.</p>
<ul><li>
<p><a href="http://style.tidyverse.org/code-documentation.html#documenting-parameters" class="external-link">Documenting parameters</a>:</p>
<p>For <code>@param</code> and <code>@return</code>, the text should starting with the expected class (or possible classes) of the argument or return value, followed by a comma, then the (uncapitalized) description. If omitting the class name, then begin the description with a capital letter.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @param spec  An object to be coerced to `vegaspec`, a Vega/Vega-Lite specification</span></span>
<span><span class="co">#' @param width `integer`, sets the view width in pixels</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return `logical` indicating success</span></span></code></pre></div>
</li>
</ul><p>In the documentation, we use <em>specification</em> or <em>spec</em> to describe the JSON or the list; we use <em>chart</em> to describe the rendering, the finished product. These seem to be the terms-of-art that Vega-Lite uses.</p>
<p>In documentation, we reserve the use of “capital-A” <strong>Altair</strong> to refer to the Python package, and the use of “small-a” to refer to this package.</p>
<p>Although we are mimicking calls to Python code, even copying-and-pasting Python examples, we should make the syntax of the calls as R-like as possible. Consider this Python example from Altair:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> vega_datasets <span class="im">import</span> data</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>cars <span class="op">=</span> data.cars()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(cars).mark_point().encode(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Horsepower'</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'Miles_per_Gallon'</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'Origin'</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    shape<span class="op">=</span><span class="st">'Origin'</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>And how we would write this in R:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/vegawidget/altair" class="external-link">"altair"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">vega_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/import_vega_data.html">import_vega_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">cars</span> <span class="op">&lt;-</span> <span class="va">vega_data</span><span class="op">$</span><span class="fu">cars</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">chart</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">alt</span><span class="op">$</span><span class="fu">Chart</span><span class="op">(</span><span class="va">cars</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">mark_point</span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">encode</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Horsepower"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Miles_per_Gallon"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Origin"</span>,</span>
<span>    shape <span class="op">=</span> <span class="st">"Origin"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>This formatting-style is an experiment. Clearly, the <code>$</code> operator is not a pipe, <code>%&gt;%</code>. However, it can be used across line-breaks such that we could format the code in the same style as a pipe. This may not be completely satisfying, but it at least resembles a <strong>ggplot2</strong> style.</p>
</div>
<div class="section level2">
<h2 id="development-strategy">Development strategy<a class="anchor" aria-label="anchor" href="#development-strategy"></a></h2>
<p>So that we can use the (very useful) pull-request functions from <a href="https://usethis.r-lib.org/" class="external-link">usethis</a>, we follow the Tidyverse convention of using the <code>master</code> branch as the reference branch for pull-requests. However, <em>you</em> should not make a pull-request from <em>your</em> copy of the <code>master</code> branch; you should work from a branch named for the change you are proposing. For more information, please see the <a href="https://usethis.r-lib.org/reference/pr_init.html" class="external-link">usethis pull-request reference</a>.</p>
<p>We will wish for <code>master</code> to contain only stable versions. We will not normally merge a pull-request that does not pass the CI checks. Further, we will intend that each commit to master will have a incremented version number; we will manage this as a part of the pull-request process.</p>
<p>Please build pkgdown as much as you would like - the <code>docs</code> folder is git-ignored; the pkgdown site is built and deployed automatically upon update of the GitHub <code>master</code> branch. The CRAN version of the documentation is at the “root” of the documentation site; the latest <code>master</code> version will be deployed to the <code>dev</code> directory of the “root”.</p>
<div class="section level3">
<h3 id="versioning">Versioning<a class="anchor" aria-label="anchor" href="#versioning"></a></h3>
<p>The version number may have as many as four components. The first two digits will mirror the first two digits of the version number of the supported (Python) Altair version; this is currently <code>3.1.0</code>.</p>
<p>The third component will correspond to a CRAN release of this package; these will be tagged.</p>
<p>A fourth component denotes a development version.</p>
<p>Our goal is that each commit to the <code>master</code> branch will have an incremented version-number.</p>
</div>
<div class="section level3">
<h3 id="pull-requests">Pull requests<a class="anchor" aria-label="anchor" href="#pull-requests"></a></h3>
<p>Pull requests are very welcome. Accordingly, the branch into which you should make a pull-request will depend on the situation:</p>
<table class="table"><colgroup><col width="35%"><col width="24%"><col width="25%"><col width="14%"></colgroup><thead><tr class="header"><th>Situation</th>
<th>Reference branch</th>
<th>Add item to NEWS.md</th>
<th>Appreciated</th>
</tr></thead><tbody><tr class="odd"><td>bug-fix</td>
<td><code>master</code></td>
<td>✅</td>
<td>😁</td>
</tr><tr class="even"><td>improving documentation</td>
<td><code>master</code></td>
<td>❎</td>
<td>😁</td>
</tr><tr class="odd"><td>adding a vignette</td>
<td><code>master</code></td>
<td>✅</td>
<td>😁</td>
</tr><tr class="even"><td>helping with a new feature</td>
<td><code>&lt;feature-branch&gt;</code></td>
<td>❎</td>
<td>😁</td>
</tr><tr class="odd"><td>proposing a new feature</td>
<td><code>master</code></td>
<td>✅</td>
<td>😁</td>
</tr></tbody></table><p><br></p>
<p>Please roxygenize as a part of your pull-request.</p>
</div>
<div class="section level3">
<h3 id="git-branch-strategy">Git branch strategy<a class="anchor" aria-label="anchor" href="#git-branch-strategy"></a></h3>
<p>One of the motivations is to make our lives as developers, and as users, easier by restricting what types of Altair versions will be supported on which types of git branches.</p>
<p>We should first define “type of Altair version” and “supported”.</p>
<p>There are three types of Altair versions:</p>
<ul><li>
<strong>released</strong> refers to a released version available on <a href="https://anaconda.org/conda-forge/altair" class="external-link">Conda-Forge</a>
</li>
<li>
<strong>candidate</strong> refers to a release-candidate available on <a href="https://pypi.org/project/altair" class="external-link">PyPi</a>
</li>
<li>
<strong>github</strong> refers to a development version available at <a href="https://github.com/altair-viz/altair" class="external-link">GitHub</a>
</li>
</ul><p>We define “supported” as making the version available through the <code><a href="reference/install_altair.html">install_altair()</a></code> function and hardcoding this Altair version as <code>getOption("altair.python.version.supported")</code>.</p>
<ul><li><p><code>master</code>: only <strong>released</strong> versions shall be supported on the <code>master</code> branch.</p></li>
<li><p><code>&lt;feature-branch&gt;</code>: any type of version may be supported on a <code>&lt;feature-branch&gt;</code>. However, to merge into <code>master</code>, it must support a <strong>released</strong> or <strong>candidate</strong> version.</p></li>
</ul></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Ian Lyttle, Haley Jeppson, Altair Developers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '0d6a37c7b714a8042d5ce01dad53be53',
    indexName: 'altair',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

